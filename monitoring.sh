#!/bin/bash
#  /$$$$$$                      /$$       /$$   /$$                           /$$                                  
# /$$__  $$                    | $$      |__/  | $$                          | $$                                  
#| $$  \ $$  /$$$$$$   /$$$$$$$| $$$$$$$  /$$ /$$$$$$    /$$$$$$   /$$$$$$$ /$$$$$$   /$$   /$$  /$$$$$$   /$$$$$$ 
#| $$$$$$$$ /$$__  $$ /$$_____/| $$__  $$| $$|_  $$_/   /$$__  $$ /$$_____/|_  $$_/  | $$  | $$ /$$__  $$ /$$__  $$
#| $$__  $$| $$  \__/| $$      | $$  \ $$| $$  | $$    | $$$$$$$$| $$        | $$    | $$  | $$| $$  \__/| $$$$$$$$
#| $$  | $$| $$      | $$      | $$  | $$| $$  | $$ /$$| $$_____/| $$        | $$ /$$| $$  | $$| $$      | $$_____/
#| $$  | $$| $$      |  $$$$$$$| $$  | $$| $$  |  $$$$/|  $$$$$$$|  $$$$$$$  |  $$$$/|  $$$$$$/| $$      |  $$$$$$$
#|__/  |__/|__/       \_______/|__/  |__/|__/   \___/   \_______/ \_______/   \___/   \______/ |__/       \_______/
a=$(uname -a)

#  /$$$$$$  /$$$$$$$  /$$   /$$       /$$$$$$            /$$$$$$         
# /$$__  $$| $$__  $$| $$  | $$      |_  $$_/           /$$__  $$        
#| $$  \__/| $$  \ $$| $$  | $$        | $$   /$$$$$$$ | $$  \__//$$$$$$ 
#| $$      | $$$$$$$/| $$  | $$        | $$  | $$__  $$| $$$$   /$$__  $$
#| $$      | $$____/ | $$  | $$        | $$  | $$  \ $$| $$_/  | $$  \ $$
#| $$    $$| $$      | $$  | $$        | $$  | $$  | $$| $$    | $$  | $$
#|  $$$$$$/| $$      |  $$$$$$/       /$$$$$$| $$  | $$| $$    |  $$$$$$/
# \______/ |__/       \______/       |______/|__/  |__/|__/     \______/ 
b=$(cat /proc/cpuinfo | grep "physical id" | sort | uniq | wc -l)
c=$(cat /proc/cpuinfo | grep "processor" | wc -l)

# /$$      /$$                                                             /$$$$$$            /$$$$$$         
#| $$$    /$$$                                                            |_  $$_/           /$$__  $$        
#| $$$$  /$$$$  /$$$$$$  /$$$$$$/$$$$   /$$$$$$   /$$$$$$  /$$   /$$        | $$   /$$$$$$$ | $$  \__//$$$$$$ 
#| $$ $$/$$ $$ /$$__  $$| $$_  $$_  $$ /$$__  $$ /$$__  $$| $$  | $$        | $$  | $$__  $$| $$$$   /$$__  $$
#| $$  $$$| $$| $$$$$$$$| $$ \ $$ \ $$| $$  \ $$| $$  \__/| $$  | $$        | $$  | $$  \ $$| $$_/  | $$  \ $$
#| $$\  $ | $$| $$_____/| $$ | $$ | $$| $$  | $$| $$      | $$  | $$        | $$  | $$  | $$| $$    | $$  | $$
#| $$ \/  | $$|  $$$$$$$| $$ | $$ | $$|  $$$$$$/| $$      |  $$$$$$$       /$$$$$$| $$  | $$| $$    |  $$$$$$/
#|__/     |__/ \_______/|__/ |__/ |__/ \______/ |__/       \____  $$      |______/|__/  |__/|__/     \______/ 
#                                                          /$$  | $$                                          
#                                                         |  $$$$$$/                                          
#                                                          \______/                                           
d=$(free -m | grep "Mem:" | awk  '{print $2}')
e=$(free -m | grep "Mem:" | awk '{print $3}')
f=$(free -m | grep "Mem:" | awk '{printf("%.2f", $3/$2*100)}')

# /$$$$$$$  /$$           /$$             /$$$$$$            /$$$$$$         
#| $$__  $$|__/          | $$            |_  $$_/           /$$__  $$        
#| $$  \ $$ /$$  /$$$$$$$| $$   /$$        | $$   /$$$$$$$ | $$  \__//$$$$$$ 
#| $$  | $$| $$ /$$_____/| $$  /$$/        | $$  | $$__  $$| $$$$   /$$__  $$
#| $$  | $$| $$|  $$$$$$ | $$$$$$/         | $$  | $$  \ $$| $$_/  | $$  \ $$
#| $$  | $$| $$ \____  $$| $$_  $$         | $$  | $$  | $$| $$    | $$  | $$
#| $$$$$$$/| $$ /$$$$$$$/| $$ \  $$       /$$$$$$| $$  | $$| $$    |  $$$$$$/
#|_______/ |__/|_______/ |__/  \__/      |______/|__/  |__/|__/     \______/
g=$(df -m | grep "^/dev/" | grep -v "/boot" | awk '{sum += $3} END {print sum}')
h=$(df -m | grep "^/dev/" | grep -v "/root$" | awk '{total += $2} END {printf("%d", total/1000)}')
i=$(df -m | grep "^/dev/" | grep -v "/root$" | awk '{sum += $3} {total += $2} END {printf("%d", sum/total*10)}')

#  /$$$$$$  /$$$$$$$  /$$   /$$       /$$                                 /$$
# /$$__  $$| $$__  $$| $$  | $$      | $$                                | $$
#| $$  \__/| $$  \ $$| $$  | $$      | $$        /$$$$$$   /$$$$$$   /$$$$$$$
#| $$      | $$$$$$$/| $$  | $$      | $$       /$$__  $$ |____  $$ /$$__  $$
#| $$      | $$____/ | $$  | $$      | $$      | $$  \ $$  /$$$$$$$| $$  | $$
#| $$    $$| $$      | $$  | $$      | $$      | $$  | $$ /$$__  $$| $$  | $$
#|  $$$$$$/| $$      |  $$$$$$/      | $$$$$$$$|  $$$$$$/|  $$$$$$$|  $$$$$$$
# \______/ |__/       \______/       |________/ \______/  \_______/ \_______/
j=$(w | grep "users" | awk '{printf("%.2f%%", $8)}')

# /$$                             /$$           /$$$$$$$                        /$$           /$$$$$$$$ /$$                        
#| $$                            | $$          | $$__  $$                      | $$          |__  $$__/|__/                        
#| $$        /$$$$$$   /$$$$$$$ /$$$$$$        | $$  \ $$  /$$$$$$   /$$$$$$  /$$$$$$           | $$    /$$ /$$$$$$/$$$$   /$$$$$$ 
#| $$       |____  $$ /$$_____/|_  $$_/        | $$$$$$$  /$$__  $$ /$$__  $$|_  $$_/           | $$   | $$| $$_  $$_  $$ /$$__  $$
#| $$        /$$$$$$$|  $$$$$$   | $$          | $$__  $$| $$  \ $$| $$  \ $$  | $$             | $$   | $$| $$ \ $$ \ $$| $$$$$$$$
#| $$       /$$__  $$ \____  $$  | $$ /$$      | $$  \ $$| $$  | $$| $$  | $$  | $$ /$$         | $$   | $$| $$ | $$ | $$| $$_____/
#| $$$$$$$$|  $$$$$$$ /$$$$$$$/  |  $$$$/      | $$$$$$$/|  $$$$$$/|  $$$$$$/  |  $$$$/         | $$   | $$| $$ | $$ | $$|  $$$$$$$
#|________/ \_______/|_______/    \___/        |_______/  \______/  \______/    \___/           |__/   |__/|__/ |__/ |__/ \_______/
k=$(who -b | awk '{print $3, $4}')

# /$$    /$$    /$$ /$$      /$$       /$$   /$$                                        
#| $$   | $$   | $$| $$$    /$$$      | $$  | $$                                        
#| $$   | $$   | $$| $$$$  /$$$$      | $$  | $$  /$$$$$$$  /$$$$$$   /$$$$$$   /$$$$$$ 
#| $$   |  $$ / $$/| $$ $$/$$ $$      | $$  | $$ /$$_____/ |____  $$ /$$__  $$ /$$__  $$
#| $$    \  $$ $$/ | $$  $$$| $$      | $$  | $$|  $$$$$$   /$$$$$$$| $$  \ $$| $$$$$$$$
#| $$     \  $$$/  | $$\  $ | $$      | $$  | $$ \____  $$ /$$__  $$| $$  | $$| $$_____/
#| $$$$$$$$\  $/   | $$ \/  | $$      |  $$$$$$/ /$$$$$$$/|  $$$$$$$|  $$$$$$$|  $$$$$$$
#|________/ \_/    |__/     |__/       \______/ |_______/  \_______/ \____  $$ \_______/
#                                                                    /$$  \ $$          
#                                                                   |  $$$$$$/          
#                                                                    \______/           
l=$(lsblk | grep "lvm" | wc -l)
m=$(if [ $l -eq 0 ]; then echo no; else echo yes; fi)

# /$$$$$$$$ /$$$$$$  /$$$$$$$         /$$$$$$                                                      /$$     /$$                              
#|__  $$__//$$__  $$| $$__  $$       /$$__  $$                                                    | $$    |__/                              
#   | $$  | $$  \__/| $$  \ $$      | $$  \__/  /$$$$$$  /$$$$$$$  /$$$$$$$   /$$$$$$   /$$$$$$$ /$$$$$$   /$$  /$$$$$$  /$$$$$$$   /$$$$$$$
#   | $$  | $$      | $$$$$$$/      | $$       /$$__  $$| $$__  $$| $$__  $$ /$$__  $$ /$$_____/|_  $$_/  | $$ /$$__  $$| $$__  $$ /$$_____/
#   | $$  | $$      | $$____/       | $$      | $$  \ $$| $$  \ $$| $$  \ $$| $$$$$$$$| $$        | $$    | $$| $$  \ $$| $$  \ $$|  $$$$$$ 
#   | $$  | $$    $$| $$            | $$    $$| $$  | $$| $$  | $$| $$  | $$| $$_____/| $$        | $$ /$$| $$| $$  | $$| $$  | $$ \____  $$
#   | $$  |  $$$$$$/| $$            |  $$$$$$/|  $$$$$$/| $$  | $$| $$  | $$|  $$$$$$$|  $$$$$$$  |  $$$$/| $$|  $$$$$$/| $$  | $$ /$$$$$$$/
#   |__/   \______/ |__/             \______/  \______/ |__/  |__/|__/  |__/ \_______/ \_______/   \___/  |__/ \______/ |__/  |__/|_______/ 
n=$(cat /proc/net/sockstat | grep "TCP: " | awk '{print $3}')

# /$$   /$$                                               /$$                           /$$                  /$$$$$$                                  /$$    
#| $$  | $$                                              | $$                          |__/                 /$$__  $$                                | $$    
#| $$  | $$  /$$$$$$$  /$$$$$$   /$$$$$$   /$$$$$$$      | $$        /$$$$$$   /$$$$$$  /$$ /$$$$$$$       | $$  \__/  /$$$$$$  /$$   /$$ /$$$$$$$  /$$$$$$  
#| $$  | $$ /$$_____/ /$$__  $$ /$$__  $$ /$$_____/      | $$       /$$__  $$ /$$__  $$| $$| $$__  $$      | $$       /$$__  $$| $$  | $$| $$__  $$|_  $$_/  
#| $$  | $$|  $$$$$$ | $$$$$$$$| $$  \__/|  $$$$$$       | $$      | $$  \ $$| $$  \ $$| $$| $$  \ $$      | $$      | $$  \ $$| $$  | $$| $$  \ $$  | $$    
#| $$  | $$ \____  $$| $$_____/| $$       \____  $$      | $$      | $$  | $$| $$  | $$| $$| $$  | $$      | $$    $$| $$  | $$| $$  | $$| $$  | $$  | $$ /$$
#|  $$$$$$/ /$$$$$$$/|  $$$$$$$| $$       /$$$$$$$/      | $$$$$$$$|  $$$$$$/|  $$$$$$$| $$| $$  | $$      |  $$$$$$/|  $$$$$$/|  $$$$$$/| $$  | $$  |  $$$$/
# \______/ |_______/  \_______/|__/      |_______/       |________/ \______/  \____  $$|__/|__/  |__/       \______/  \______/  \______/ |__/  |__/   \___/  
#                                                                             /$$  \ $$                                                                      
#                                                                            |  $$$$$$/                                                                      
#                                                                             \______/
o=$(users | wc -w)

# /$$   /$$             /$$                                       /$$             /$$$$$$            /$$$$$$         
#| $$$ | $$            | $$                                      | $$            |_  $$_/           /$$__  $$        
#| $$$$| $$  /$$$$$$  /$$$$$$   /$$  /$$  /$$  /$$$$$$   /$$$$$$ | $$   /$$        | $$   /$$$$$$$ | $$  \__//$$$$$$ 
#| $$ $$ $$ /$$__  $$|_  $$_/  | $$ | $$ | $$ /$$__  $$ /$$__  $$| $$  /$$/        | $$  | $$__  $$| $$$$   /$$__  $$
#| $$  $$$$| $$$$$$$$  | $$    | $$ | $$ | $$| $$  \ $$| $$  \__/| $$$$$$/         | $$  | $$  \ $$| $$_/  | $$  \ $$
#| $$\  $$$| $$_____/  | $$ /$$| $$ | $$ | $$| $$  | $$| $$      | $$_  $$         | $$  | $$  | $$| $$    | $$  | $$
#| $$ \  $$|  $$$$$$$  |  $$$$/|  $$$$$/$$$$/|  $$$$$$/| $$      | $$ \  $$       /$$$$$$| $$  | $$| $$    |  $$$$$$/
#|__/  \__/ \_______/   \___/   \_____/\___/  \______/ |__/      |__/  \__/      |______/|__/  |__/|__/     \______/
p=$(hostname -I)
q=$(ip link show | grep "link/ether" | awk '{print $2}')

#  /$$$$$$                  /$$                  /$$$$$$                                  /$$    
# /$$__  $$                | $$                 /$$__  $$                                | $$    
#| $$  \__/ /$$   /$$  /$$$$$$$  /$$$$$$       | $$  \__/  /$$$$$$  /$$   /$$ /$$$$$$$  /$$$$$$  
#|  $$$$$$ | $$  | $$ /$$__  $$ /$$__  $$      | $$       /$$__  $$| $$  | $$| $$__  $$|_  $$_/  
# \____  $$| $$  | $$| $$  | $$| $$  \ $$      | $$      | $$  \ $$| $$  | $$| $$  \ $$  | $$    
# /$$  \ $$| $$  | $$| $$  | $$| $$  | $$      | $$    $$| $$  | $$| $$  | $$| $$  | $$  | $$ /$$
#|  $$$$$$/|  $$$$$$/|  $$$$$$$|  $$$$$$/      |  $$$$$$/|  $$$$$$/|  $$$$$$/| $$  | $$  |  $$$$/
# \______/  \______/  \_______/ \______/        \______/  \______/  \______/ |__/  |__/   \___/
r=$(cat /var/log/sudo/sudo.log | grep "COMMAND" | wc -l)



wall "#Architecture: $a
	 #CPU physical : $b
	 #vCPU : $c
	 #Memory usage: ${e}/${d}MB (${f}%)
	 #Disk Usage : ${g}/${h}Gb (${i}%)
	 #CPU load: $j
	 #Last boot: $k
	 #LVM use : $m
	 #Connexions TCP : $n ESTABLISHED
	 #User log: $o
	 #Network: IP $p ($q)
	 #Sudo: $r cmd"